<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        messagesPack="akkount.web.operation">
    <data>
        <collection id="categoriesDc"
                    class="akkount.entity.Category"
                    view="_minimal">
            <loader>
                <query><![CDATA[select e from akk$Category e where e.catType = 'E' order by e.name]]></query>
            </loader>
        </collection>
        <instance id="operationDc"
                  class="akkount.entity.Operation"
                  view="operation-edit"
                  provided="true"/>
        <collection id="accountsDc" class="akkount.entity.Account" view="_local" provided="true"/>
    </data>
    <layout>
        <grid spacing="true" width="100%">
            <columns>
                <column flex="0.0"/>
                <column flex="1.0"/>
            </columns>
            <rows>
                <row>
                    <label align="MIDDLE_LEFT" value="msg://account"/>
                    <lookupPickerField dataContainer="operationDc" optionsContainer="accountsDc" property="acc1"
                                       required="true" width="100%">
                        <actions>
                            <action id="lookup" type="picker_lookup"/>
                        </actions>
                    </lookupPickerField>
                </row>
                <row>
                    <label align="MIDDLE_LEFT" value="msg://amount"/>
                    <hbox spacing="true" width="100%">
                        <textField id="amountField" required="true" requiredMessage="msg://amountIsRequired"
                                   width="100%"/>
                        <label id="currencyLab" align="MIDDLE_LEFT" width="30px"/>
                    </hbox>
                </row>
                <row>
                    <label align="MIDDLE_LEFT" value="msg://category"/>
                    <lookupPickerField dataContainer="operationDc" optionsContainer="categoriesDc" property="category"
                                       width="100%">
                        <actions>
                            <action id="lookup" type="picker_lookup"/>
                        </actions>
                    </lookupPickerField>
                </row>
                <row>
                    <label align="MIDDLE_LEFT" value="msg://comment"/>
                    <textArea dataContainer="operationDc" property="comments" rows="3" width="100%"/>
                </row>
            </rows>
        </grid>
    </layout>
</window>
